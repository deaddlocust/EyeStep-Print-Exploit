using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using EyeStepPackage;

namespace print_exploit
{
    class Program
    {
        static void Main(string[] args)
        {
            int toggle = 0;
            Console.Title = "print-exploit";
            Console.WriteLine("Select output type:");
            Console.WriteLine("1. Normal print");
            Console.WriteLine("2. Info print(?)");
            Console.WriteLine("3. Warn print ");
            Console.WriteLine("4. Error print");
            Console.Write("Enter number> ");
            string select = Console.ReadLine();
            if (select == "1")
            {
                toggle = 1;
            }
            if (select == "2")
            {
                toggle = 2;
            }
            if (select == "3")
            {
                toggle = 3;
            }
            if (select == "4")
            {
                toggle = 4;
            }
            Console.Clear();
            EyeStep.open("RobloxPlayerBeta.exe");

            EmRemote remote = new EmRemote();
            Console.WriteLine("Loading...");
            remote.Load();
            int PrintXref = util.nextCall(scanner.scan_xrefs("Video recording started").Last()); // Full credits for print xref to OpenGamerTips
            remote.AddProtected("print", PrintXref, "int", "string");
            var a_messagebox = imports.GetProcAddress(imports.GetModuleHandle("USER32.dll"), "MessageBoxA");
            remote.Add("MessageBox", a_messagebox, "int", "string", "string", "int");
            Console.Clear();

            remote.Call("MessageBox", 0, "Print-exploit has been initialized", "Exploit", 0);

            while (true)
            {
                if (toggle == 1)
                {
                    Console.Write(">");
                    var input = Console.ReadLine();
                    remote.Call("print", 0, input);
                }
                if (toggle == 2)
                {
                    Console.Write(">");
                    var input = Console.ReadLine();
                    remote.Call("print", 1, input);
                }
                if (toggle == 3)
                {
                    Console.Write(">");
                    var input = Console.ReadLine();
                    remote.Call("print", 2, input);
                }
                if (toggle == 4)
                {
                    Console.Write(">");
                    var input = Console.ReadLine();
                    remote.Call("print", 3, input);
                }
            }
        }
    }
}
